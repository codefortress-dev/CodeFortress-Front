<ng-container *ngIf="!isLoading; else loading">
  <div class="catalog-toolbar">
    <mat-button-toggle-group
      [value]="categoriaSeleccionada"
      (change)="onCategoriaChange($event.value)"
      appearance="standard"
      color="primary"
    >
      <mat-button-toggle *ngFor="let cat of categoriasDisponibles" [value]="cat">
        {{ cat }}
      </mat-button-toggle>
    </mat-button-toggle-group>
  </div>

  <div class="catalog-container">
    <mat-card *ngFor="let producto of productosFiltrados" class="producto-card">
      <img mat-card-image [src]="producto.imagen" [alt]="producto.nombre[currentLang]" />
      <mat-card-title>{{ producto.nombre[currentLang] }}</mat-card-title>
      <mat-card-subtitle>{{ producto.categoria[currentLang] }}</mat-card-subtitle>
      <mat-card-content>
        <p>{{ producto.descripcion[currentLang] }}</p>
        <p><strong>${{ producto.precio }}</strong></p>
      </mat-card-content>
      <mat-card-actions>
        <button mat-button color="primary" [routerLink]="['/productos', producto.id]">
          {{ 'catalog.viewMore' | translate }}
        </button>
        <button mat-stroked-button color="accent">
          {{ 'catalog.buy' | translate }}
        </button>
      </mat-card-actions>
    </mat-card>
  </div>
</ng-container>

<ng-template #loading>
  <div style="text-align: center; margin-top: 60px;">
    <mat-spinner diameter="50"></mat-spinner>
    <p style="margin-top: 12px;">{{ 'catalog.loading' | translate }}</p>
  </div>
</ng-template>
